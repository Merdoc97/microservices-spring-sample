apiVersion: v1
kind: ConfigMap
metadata:
  name: customer-config
  namespace: {{.Values.global.baseNamespace}}
data:
  config.properties: |
    spring.security.user.name: {{.Values.username}}
    spring.security.user.password: {{.Values.password}}
    spring.security.user.roles: {{.Values.role}}
    spring.profiles.active: stash
    server.port: {{.Values.port }}
    spring.cloud.kubernetes.discovery.enabled: {{.Values.discoveryEnabled }}
    spring.application.name: {{.Values.name}}
    management.endpoints.web.base-path: {{.Values.actuator.path}}
    management.endpoint.health.show-details: {{.Values.actuator.showValues}}
    server.servlet.context-path: {{.Values.server.path}}
    spring.zipkin.enabled: {{.Values.zipkin.enabled}}
    spring.sleuth.messaging.enabled: {{.Values.sleuth.messaging.enabled}}
    spring.sleuth.messaging.rabbit.enabled: {{.Values.sleuth.messaging.enabled}}
    spring.rabbitmq.host: {{.Values.rabbit.host}}
    spring.rabbitmq.username: {{.Values.rabbit.username}}
    spring.rabbitmq.password: {{.Values.rabbit.password}}
    feign-clients.account-service.url: http://{{.Values.feign.account.serviceName}}:{{.Values.feign.account.port}}